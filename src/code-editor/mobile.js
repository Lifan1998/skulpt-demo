/* eslint-disable no-unused-expressions */
/*eslint no-undef: "error"*/
/* global Prism DEBUG xbayCommon */
module.exports=function(e){var n={};function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(i,o,function(n){return e[n]}.bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=25)}([function(e,n){e.exports=require("react")},function(e,n){e.exports=require("prop-types")},function(e,n){e.exports=require("@babel/runtime/helpers/classCallCheck")},function(e,n){e.exports=require("@babel/runtime/helpers/createClass")},function(e,n){e.exports=require("@babel/runtime/helpers/objectWithoutProperties")},function(e,n){e.exports=require("@babel/runtime/helpers/possibleConstructorReturn")},function(e,n){e.exports=require("@babel/runtime/helpers/getPrototypeOf")},function(e,n){e.exports=require("@babel/runtime/helpers/inherits")},function(e,n,t){"use strict";var i=t(9),o=t.n(i),a=t(10),r=t.n(a),s=t(4),l=t.n(s),c=t(11),d=t.n(c),u=t(2),f=t.n(u),p=t(3),h=t.n(p),A=t(5),m=t.n(A),g=t(6),b=t.n(g),C=t(7),v=t.n(C),y=t(0),x=t.n(y),k=t(1),E=t.n(k),w=(t(12),"main.py"),B=function(e){function n(e){var t;return f()(this,n),(t=m()(this,b()(n).call(this,e))).onFilenameChange=function(e,n){var i=t.props.onFilenameChange;return e?(xbayCommon.notify("文件已存在"),!1):n?!1!==i(n):(xbayCommon.notify("文件名不可以为空"),!1)},t.handleScroll=function(){t.setState({isSetting:!1})},t.handleCodeChange=function(e,n){var i=t.props,o=i.files,a=i.onChange,r=i.onCodeChange,s=o.find(function(n){return n.name===e});if(s&&s.code!==n){r(e,n);var l=o.slice();l.find(function(n){return n.name===e}).code=n,a(l)}},t.handleMenuClick=function(e){return function(n){n.stopPropagation();var i=t.props,o=i.files,a=i.onChange,r=t.state.currentFilename;"trash"===e?a(o.filter(function(e){return e.name!==r})):t.setState({isEditing:!0,formValue:r},function(){t.editInputRef.focus()})}},t.handleFilenameClick=function(e){return function(){t.state.isEditing||t.state.isAdding?t.setState({formValue:"",isAdding:!1,isEditing:!1,isSetting:!1,currentFilename:e}):t.setState({currentFilename:e,isSetting:!1})}},t.handleRenameFile=function(e){e.stopPropagation();var n=t.props,i=n.files,o=n.onChange,a=t.state,r=a.currentFilename,s=a.formValue,l=i.find(function(e){return e.name===s});t.onFilenameChange(l,s)&&(o(i.map(function(e){return e.name===r?Object.assign({},e,{name:s}):e})),t.setState({currentFilename:s,formValue:"",isEditing:!1,isSetting:!1}))},t.handleChangeFormValue=function(e){t.setState({formValue:e.target.value})},t.handleAddFile=function(){var e=t.props,n=e.files,i=e.onChange,o=t.state.formValue,a=n.find(function(e){return e.name===o});t.onFilenameChange(a,o)&&(i([].concat(d()(n),[{name:o,code:""}])),t.setState({formValue:"",isAdding:!1,currentFilename:o}))},t.handleAdd=function(){t.setState({isAdding:!0,isSetting:!1,isEditing:!1,formValue:""},function(){t.itemsRef.scrollTo(t.itemsRef.scrollWidth,0),t.addInputRef.focus()})},t.handleStopPropagation=function(e){e.stopPropagation()},t.handleKeyDown=function(e){13===e.keyCode&&e.preventDefault()},t.handleClearForm=function(){t.setState({formValue:"",isAdding:!1,isEditing:!1,isSetting:!1})},t.handleSettingClick=function(e){e.stopPropagation(),t.setState({isSetting:!0,isAdding:!1})},t.saveItemsRef=function(e){t.itemsRef=e},t.saveAddInputRef=function(e){t.addInputRef=e},t.saveEditInputRef=function(e){t.editInputRef=e},t.state={formValue:"",currentFilename:w,isEditing:!1,isAdding:!1,isSetting:!1},t}return v()(n,e),h()(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll),this.itemsRef.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll),this.itemsRef.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this,n=this.props,t=n.files,i=n.readOnly,o=n.isMultiple,a=n.height,s=n.Element,c=l()(n,["files","readOnly","isMultiple","height","Element"]),d=this.state,u=d.currentFilename,f=d.isEditing,p=d.isAdding,h=d.isSetting,A=o?t:t.filter(function(e){return e.name===w}),m=(A.find(function(e){return e.name===u})||{}).code;return x.a.createElement("div",{className:"code-editor"},x.a.createElement("div",{className:"controls"},x.a.createElement("div",{className:"files"},x.a.createElement("div",{className:"items",ref:this.saveItemsRef},A.map(function(n,t){return x.a.createElement("div",{key:t,onClick:e.handleFilenameClick(n.name),className:"item ".concat(n.name===u?"active":"")},f&&n.name===u?x.a.createElement("div",{className:"file-form"},x.a.createElement("input",{onKeyDown:e.handleKeyDown,value:e.state.formValue,onChange:e.handleChangeFormValue,onClick:e.handleStopPropagation,ref:e.saveEditInputRef}),x.a.createElement("i",{className:"ib ib-file",onClick:e.handleRenameFile})):n.name,n.name!==u||n.name===w||f||i?null:x.a.createElement("div",{className:"setting-wrapper"},x.a.createElement("i",{className:"ib ib-cog",onClick:e.handleSettingClick}),h?x.a.createElement("div",{className:"setting-operation",style:{transform:"translate(-".concat(e.itemsRef.scrollLeft,"px, -").concat(window.pageYOffset,"px)")}},x.a.createElement("i",{className:"ib ib-pencil",onClick:e.handleMenuClick()}),x.a.createElement("i",{className:"ib ib-trash",onClick:e.handleMenuClick("trash")})):null))}),p?x.a.createElement("div",{className:"item",key:p},x.a.createElement("div",{className:"file-form"},x.a.createElement("input",{onKeyDown:this.handleKeyDown,value:this.state.formValue,onChange:this.handleChangeFormValue,ref:this.saveAddInputRef}),x.a.createElement("i",{className:"ib ib-file",onClick:this.handleAddFile}))):null)),o&&!i?x.a.createElement("div",{className:"add-btn",onClick:this.handleAdd},"+"):null),x.a.createElement("div",{onClick:this.handleClearForm},x.a.createElement(s,r()({},c,{key:u,value:m,readOnly:i,onChange:function(n){e.handleCodeChange(u,n)},height:a,isShowAuxiliaryInput:this.props.isShowAuxiliaryInput,handleOnClickPunctuation:this.props.handleOnClickPunctuation}))))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return e.files.find(function(e){return e.name===n.currentFilename})?null:o()({},n,{currentFilename:w})}}]),n}(x.a.Component);B.defaultProps={readOnly:!1,isMultiple:!0,height:"500px",onCodeChange:function(){},onFilenameChange:function(){},isShowAuxiliaryInput:!1},B.propTypes={Element:E.a.func.isRequired,onChange:E.a.func.isRequired,onCodeChange:E.a.func,onFilenameChange:E.a.func,files:E.a.array.isRequired,readOnly:E.a.bool,isMultiple:E.a.bool,height:E.a.string,isShowAuxiliaryInput:E.a.bool},n.a=B},function(e,n){e.exports=require("@babel/runtime/helpers/objectSpread")},function(e,n){e.exports=require("@babel/runtime/helpers/extends")},function(e,n){e.exports=require("@babel/runtime/helpers/toConsumableArray")},function(e,n,t){var i=t(13);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(15)(i,o);i.locals&&(e.exports=i.locals)},function(e,n,t){(e.exports=t(14)(!0)).push([e.i,".code-editor .ace_editor {\n  border-radius: 0 0 4px 4px;\n}\n.code-editor .controls {\n  background: #25282c;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-radius: 4px 4px 0 0;\n  height: 37px;\n}\n.code-editor .files {\n  display: flex;\n  flex-wrap: wrap;\n  width: calc(100% - 30px);\n}\n.code-editor .files .items {\n  display: flex;\n  overflow-x: auto;\n  -ms-overflow-style: none;\n}\n.code-editor .files .items::-webkit-scrollbar {\n  height: 0 !important;\n}\n.code-editor .files .item {\n  display: flex;\n  align-items: center;\n  color: #fff;\n  height: 33px;\n  padding: 6px 12px;\n  cursor: pointer;\n  border-radius: 4px 4px 0 0;\n  white-space: nowrap;\n}\n.code-editor .files .item .setting-wrapper {\n  position: relative;\n  display: inline-block;\n}\n.code-editor .files .item .setting-wrapper .setting-operation {\n  background: #25282c;\n  position: fixed;\n  z-index: 99;\n}\n.code-editor .files .item .setting-wrapper .setting-operation i {\n  display: block;\n  margin: 8px 0;\n}\n.code-editor .files .item.active {\n  background: #1d1f21;\n  border-bottom: solid 1px #28d3b0;\n}\n.code-editor .files .item.active .setting-wrapper i {\n  padding: 0 5px;\n  margin-right: 0 !important;\n}\n.code-editor .files input {\n  color: #333;\n  padding: 0 5px;\n  width: 100px;\n}\n.code-editor .file-form {\n  display: flex;\n  justify-content: space-between;\n}\n.code-editor .file-form i {\n  padding: 3px 3px;\n  font-size: 18px;\n  background: #28d3b0;\n  border-radius: 0 2px 2px 0;\n}\n.code-editor .file-form input {\n  outline: none;\n}\n.code-editor .add-btn {\n  cursor: pointer;\n  color: #fff;\n  width: 30px;\n  text-align: center;\n  font-size: 20px;\n}\n.code-editor .punctuations {\n  position: absolute;\n  z-index: 1000;\n  left: 0;\n  bottom: 0;\n  height: 40px;\n  width: 100%;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  background-color: #1d1f21;\n  color: #fff;\n}\n.code-editor .punctuations .punctuation {\n  width: 26px;\n  line-height: 26px;\n  height: 26px;\n  font-size: 15px;\n  text-align: center;\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\n  border-radius: 5px;\n  background-color: #333333;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n","",{version:3,sources:["index.less"],names:[],mappings:"AAAA;EACE,0BAA0B;AAC5B;AACA;EACE,mBAAmB;EACnB,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,0BAA0B;EAC1B,YAAY;AACd;AACA;EACE,aAAa;EACb,eAAe;EACf,wBAAwB;AAC1B;AACA;EACE,aAAa;EACb,gBAAgB;EAChB,wBAAwB;AAC1B;AACA;EACE,oBAAoB;AACtB;AACA;EACE,aAAa;EACb,mBAAmB;EACnB,WAAW;EACX,YAAY;EACZ,iBAAiB;EACjB,eAAe;EACf,0BAA0B;EAC1B,mBAAmB;AACrB;AACA;EACE,kBAAkB;EAClB,qBAAqB;AACvB;AACA;EACE,mBAAmB;EACnB,eAAe;EACf,WAAW;AACb;AACA;EACE,cAAc;EACd,aAAa;AACf;AACA;EACE,mBAAmB;EACnB,gCAAgC;AAClC;AACA;EACE,cAAc;EACd,0BAA0B;AAC5B;AACA;EACE,WAAW;EACX,cAAc;EACd,YAAY;AACd;AACA;EACE,aAAa;EACb,8BAA8B;AAChC;AACA;EACE,gBAAgB;EAChB,eAAe;EACf,mBAAmB;EACnB,0BAA0B;AAC5B;AACA;EACE,aAAa;AACf;AACA;EACE,eAAe;EACf,WAAW;EACX,WAAW;EACX,kBAAkB;EAClB,eAAe;AACjB;AACA;EACE,kBAAkB;EAClB,aAAa;EACb,OAAO;EACP,SAAS;EACT,YAAY;EACZ,WAAW;EACX,aAAa;EACb,6BAA6B;EAC7B,mBAAmB;EACnB,yBAAyB;EACzB,WAAW;AACb;AACA;EACE,WAAW;EACX,iBAAiB;EACjB,YAAY;EACZ,eAAe;EACf,kBAAkB;EAClB,uFAAuF;EACvF,kBAAkB;EAClB,yBAAyB;EACzB,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB",file:"index.less",sourcesContent:[".code-editor .ace_editor {\n  border-radius: 0 0 4px 4px;\n}\n.code-editor .controls {\n  background: #25282c;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-radius: 4px 4px 0 0;\n  height: 37px;\n}\n.code-editor .files {\n  display: flex;\n  flex-wrap: wrap;\n  width: calc(100% - 30px);\n}\n.code-editor .files .items {\n  display: flex;\n  overflow-x: auto;\n  -ms-overflow-style: none;\n}\n.code-editor .files .items::-webkit-scrollbar {\n  height: 0 !important;\n}\n.code-editor .files .item {\n  display: flex;\n  align-items: center;\n  color: #fff;\n  height: 33px;\n  padding: 6px 12px;\n  cursor: pointer;\n  border-radius: 4px 4px 0 0;\n  white-space: nowrap;\n}\n.code-editor .files .item .setting-wrapper {\n  position: relative;\n  display: inline-block;\n}\n.code-editor .files .item .setting-wrapper .setting-operation {\n  background: #25282c;\n  position: fixed;\n  z-index: 99;\n}\n.code-editor .files .item .setting-wrapper .setting-operation i {\n  display: block;\n  margin: 8px 0;\n}\n.code-editor .files .item.active {\n  background: #1d1f21;\n  border-bottom: solid 1px #28d3b0;\n}\n.code-editor .files .item.active .setting-wrapper i {\n  padding: 0 5px;\n  margin-right: 0 !important;\n}\n.code-editor .files input {\n  color: #333;\n  padding: 0 5px;\n  width: 100px;\n}\n.code-editor .file-form {\n  display: flex;\n  justify-content: space-between;\n}\n.code-editor .file-form i {\n  padding: 3px 3px;\n  font-size: 18px;\n  background: #28d3b0;\n  border-radius: 0 2px 2px 0;\n}\n.code-editor .file-form input {\n  outline: none;\n}\n.code-editor .add-btn {\n  cursor: pointer;\n  color: #fff;\n  width: 30px;\n  text-align: center;\n  font-size: 20px;\n}\n.code-editor .punctuations {\n  position: absolute;\n  z-index: 1000;\n  left: 0;\n  bottom: 0;\n  height: 40px;\n  width: 100%;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  background-color: #1d1f21;\n  color: #fff;\n}\n.code-editor .punctuations .punctuation {\n  width: 26px;\n  line-height: 26px;\n  height: 26px;\n  font-size: 15px;\n  text-align: center;\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\n  border-radius: 5px;\n  background-color: #333333;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n"],sourceRoot:""}])},function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t=function(e,n){var t=e[1]||"",i=e[3];if(!i)return t;if(n&&"function"==typeof btoa){var o=(r=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),a=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[t].concat(a).concat([o]).join("\n")}var r;return[t].join("\n")}(n,e);return n[2]?"@media "+n[2]+"{"+t+"}":t}).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(o=0;o<e.length;o++){var r=e[o];null!=r[0]&&i[r[0]]||(t&&!r[2]?r[2]=t:t&&(r[2]="("+r[2]+") and ("+t+")"),n.push(r))}},n}},function(e,n,t){var i,o,a={},r=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=i.apply(this,arguments)),o}),s=function(e){var n={};return function(e,t){if("function"==typeof e)return e();if(void 0===n[e]){var i=function(e,n){return n?n.querySelector(e):document.querySelector(e)}.call(this,e,t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}n[e]=i}return n[e]}}(),l=null,c=0,d=[],u=t(16);function f(e,n){for(var t=0;t<e.length;t++){var i=e[t],o=a[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(b(i.parts[r],n))}else{var s=[];for(r=0;r<i.parts.length;r++)s.push(b(i.parts[r],n));a[i.id]={id:i.id,refs:1,parts:s}}}}function p(e,n){for(var t=[],i={},o=0;o<e.length;o++){var a=e[o],r=n.base?a[0]+n.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};i[r]?i[r].parts.push(s):t.push(i[r]={id:r,parts:[s]})}return t}function h(e,n){var t=s(e.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===e.insertAt)i?i.nextSibling?t.insertBefore(n,i.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),d.push(n);else if("bottom"===e.insertAt)t.appendChild(n);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertAt.before,t);t.insertBefore(n,o)}}function A(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var n=d.indexOf(e);n>=0&&d.splice(n,1)}function m(e){var n=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var i=function(){0;return t.nc}();i&&(e.attrs.nonce=i)}return g(n,e.attrs),h(e,n),n}function g(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function b(e,n){var t,i,o,a;if(n.transform&&e.css){if(!(a="function"==typeof n.transform?n.transform(e.css):n.transform.default(e.css)))return function(){};e.css=a}if(n.singleton){var r=c++;t=l||(l=m(n)),i=y.bind(null,t,r,!1),o=y.bind(null,t,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(e){var n=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(n,e.attrs),h(e,n),n}(n),i=function(e,n,t){var i=t.css,o=t.sourceMap,a=void 0===n.convertToAbsoluteUrls&&o;(n.convertToAbsoluteUrls||a)&&(i=u(i));o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(r),s&&URL.revokeObjectURL(s)}.bind(null,t,n),o=function(){A(t),t.href&&URL.revokeObjectURL(t.href)}):(t=m(n),i=function(e,n){var t=n.css,i=n.media;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}.bind(null,t),o=function(){A(t)});return i(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;i(e=n)}else o()}}e.exports=function(e,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=r()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var t=p(e,n);return f(t,n),function(e){for(var i=[],o=0;o<t.length;o++){var r=t[o];(s=a[r.id]).refs--,i.push(s)}e&&f(p(e,n),n);for(o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var C,v=(C=[],function(e,n){return C[e]=n,C.filter(Boolean).join("\n")});function y(e,n,t,i){var o=t?"":i.css;if(e.styleSheet)e.styleSheet.cssText=v(n,o);else{var a=document.createTextNode(o),r=e.childNodes;r[n]&&e.removeChild(r[n]),r.length?e.insertBefore(a,r[n]):e.appendChild(a)}}},function(e,n){e.exports=function(e){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var t=n.protocol+"//"+n.host,i=t+n.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,n){var o,a=n.trim().replace(/^"(.*)"$/,function(e,n){return n}).replace(/^'(.*)'$/,function(e,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?t+a:i+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},,function(e,n,t){"use strict";var i=t(4),o=t.n(i),a=t(2),r=t.n(a),s=t(3),l=t.n(s),c=t(5),d=t.n(c),u=t(6),f=t.n(u),p=t(7),h=t.n(p),A=t(0),m=t.n(A),g=t(1),b=t.n(g),C="\n.codeflask {\n  background: ".concat("#fff",";\n  color: #4f559c;\n}\n\n.codeflask .token.punctuation {\n  color: #4a4a4a;\n}\n\n.codeflask .token.keyword {\n  color: #8500ff;\n}\n\n.codeflask .token.operator {\n  color: #ff5598;\n}\n\n.codeflask .token.string {\n  color: #41ad8f;\n}\n\n.codeflask .token.comment {\n  color: #9badb7;\n}\n\n.codeflask .token.function {\n  color: #8500ff;\n}\n\n.codeflask .token.boolean {\n  color: #8500ff;\n}\n\n.codeflask .token.number { \n  color: #8500ff;\n}\n\n.codeflask .token.selector {\n  color: #8500ff;\n}\n\n.codeflask .token.property {\n  color: #8500ff;\n}\n\n.codeflask .token.tag {\n  color: #8500ff;\n}\n\n.codeflask .token.attr-value {\n  color: #8500ff;\n}\n");var v,y,x,k="Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",E=(v="caret-color",y="#000",CSS?CSS.supports(v,y):((x=v.split("-").filter(function(e){return!!e}).map(function(e){return e[0].toUpperCase()+e.substr(1)}).join(""))[0].toLowerCase(),x.substr(1),document.body.style),"\n  .codeflask {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n  }\n\n  .codeflask, .codeflask * {\n    box-sizing: border-box;\n  }\n\n  .codeflask__pre {\n    pointer-events: none;\n    z-index: 3;\n    overflow: hidden;\n  }\n\n  .codeflask__textarea {\n    background: none;\n    border: none;\n    border-radius: 0;\n    color: transparent;\n    z-index: 1;\n    resize: none;\n    font-family: ".concat(k,";\n    -webkit-appearance: pre;\n    caret-color: #fff;\n    z-index: 2;\n    width: 100%;\n    height: 100%;\n    background-color: #2d2d2d;\n  }\n\n  .codeflask__code {\n    display: block;\n    font-family: ").concat(k,";\n    overflow: visible;\n  }\n\n  .codeflask__flatten {\n    padding: 10px;\n    font-family: ").concat(k,";\n    font-size: ").concat("14px",";\n    line-height: ").concat("1.5",";\n    white-space: pre;\n    position: absolute;\n    top: 0;\n    left: 0;\n    min-height: 100%;\n    overflow: auto;\n    margin: 0 !important;\n    outline: none;\n    text-align: left;\n  }\n\n  pre.codeflask__flatten {\n    /* needed to overwrite prism css, must use same font size and line height */\n    font-family: ").concat(k,";\n    font-size: ").concat("14px",";\n    line-height: ").concat("1.5",";\n    padding: 10px;\n    background-color: transparent !important;\n  }\n\n  @media screen and (max-device-width: 800px) {\n    @supports (-webkit-overflow-scrolling: touch) {\n      /* iPhone only CSS here */\n      textarea.codeflask__flatten {\n        padding-left: 7px;\n      }\n    }\n  }\n\n  .codeflask--has-line-numbers textarea.codeflask__flatten {\n    left: ").concat("40px",";\n    width: calc(100% - ").concat("40px",");\n  }\n\n  .codeflask--has-line-numbers pre.codeflask__flatten {\n    transform: translate3d(").concat("40px",", 0, 0);\n    overflow: visible;\n  }\n\n  \n\n  .codeflask__line-highlight {\n    position: absolute;\n    top: 10px;\n    left: 0;\n    width: 100%;\n    height: ").concat("1.5",";\n    background: rgba(0,0,0,0.1);\n    z-index: 1;\n  }\n\n  .codeflask__lines {\n    padding: 10px 4px;\n    font-family: ").concat(k,";\n    font-size: ").concat("14px",";\n    line-height: ").concat("1.5",";\n    font-family: 'Cousine', monospace;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: ").concat("40px",";\n    text-align: right;\n    color: #c5c8c6;\n    z-index: 100;\n    min-height: 100%;\n    background: #25282c;\n  }\n\n  .codeflask__lines__line {\n    display: block;\n  }\n\n  .codeflask.codeflask--has-line-numbers {\n    padding-left: ").concat("40px",";\n  }\n\n  .codeflask.codeflask--has-line-numbers:before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: ").concat("40px",";\n    height: 100%;\n    background: #eee;\n    z-index: 1;\n  }\n"));function w(e,n,t){var i=n||"codeflask-style",o=t||document.head;if(!e)return!1;if(document.getElementById(i))return!0;var a=document.createElement("style");return a.innerHTML=e,a.id=i,o.appendChild(a),!0}var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function S(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return B[e]})}var T=function(){function e(n,t){if(r()(this,e),!n)throw Error("CodeFlask expects a parameter which is Element or a String selector");if(!t)throw Error("CodeFlask expects an object containing options as second parameter");if(n.nodeType)this.editorRoot=n;else{var i=document.querySelector(n);i&&(this.editorRoot=i)}this.opts=t,this.startEditor()}return l()(e,[{key:"startEditor",value:function(){if(!w(E,null,this.opts.styleParent))throw Error("Failed to inject CodeFlask CSS.");this.createWrapper(),this.createTextarea(),this.createPre(),this.createCode(),this.runOptions(),this.listenTextarea(),this.populateDefault(),this.updateCode(this.code)}},{key:"createWrapper",value:function(){this.code=this.editorRoot.innerHTML,this.editorRoot.innerHTML="",this.elWrapper=this.createElement("div",this.editorRoot),this.elWrapper.classList.add("codeflask")}},{key:"createTextarea",value:function(){this.elTextarea=this.createElement("textarea",this.elWrapper),this.elTextarea.classList.add("codeflask__textarea","codeflask__flatten"),this.elTextarea.setAttribute("wrap","off")}},{key:"createPre",value:function(){this.elPre=this.createElement("pre",this.elWrapper),this.elPre.classList.add("codeflask__pre","codeflask__flatten")}},{key:"createCode",value:function(){this.elCode=this.createElement("code",this.elPre),this.elCode.classList.add("codeflask__code","language-".concat(this.opts.language||"html"))}},{key:"createLineNumbers",value:function(){this.elLineNumbers=this.createElement("div",this.elWrapper),this.elLineNumbers.classList.add("codeflask__lines"),this.setLineNumber()}},{key:"createElement",value:function(e,n){var t=document.createElement(e);return n.appendChild(t),t}},{key:"runOptions",value:function(){this.opts.rtl=this.opts.rtl||!1,this.opts.tabSize=this.opts.tabSize||2,this.opts.enableAutocorrect=this.opts.enableAutocorrect||!1,this.opts.lineNumbers=this.opts.lineNumbers||!1,this.opts.defaultTheme=!1!==this.opts.defaultTheme,this.opts.areaId=this.opts.areaId||null,this.opts.ariaLabelledby=this.opts.ariaLabelledby||null,this.opts.readonly=this.opts.readonly||null,"boolean"!=typeof this.opts.handleTabs&&(this.opts.handleTabs=!0),"boolean"!=typeof this.opts.handleSelfClosingCharacters&&(this.opts.handleSelfClosingCharacters=!0),"boolean"!=typeof this.opts.handleNewLineIndentation&&(this.opts.handleNewLineIndentation=!0),!0===this.opts.rtl&&(this.elTextarea.setAttribute("dir","rtl"),this.elPre.setAttribute("dir","rtl")),!1===this.opts.enableAutocorrect&&(this.elTextarea.setAttribute("spellcheck","false"),this.elTextarea.setAttribute("autocapitalize","off"),this.elTextarea.setAttribute("autocomplete","off"),this.elTextarea.setAttribute("autocorrect","off")),this.opts.lineNumbers&&(this.elWrapper.classList.add("codeflask--has-line-numbers"),this.createLineNumbers()),this.opts.defaultTheme&&w(C,"theme-default",this.opts.styleParent),this.opts.areaId&&this.elTextarea.setAttribute("id",this.opts.areaId),this.opts.ariaLabelledby&&this.elTextarea.setAttribute("aria-labelledby",this.opts.ariaLabelledby),this.opts.readonly&&this.enableReadonlyMode()}},{key:"updateLineNumbersCount",value:function(){for(var e="",n=1;n<=this.lineNumber;n++)e+='<span class="codeflask__lines__line">'.concat(n,"</span>");this.elLineNumbers.innerHTML=e}},{key:"listenTextarea",value:function(){var e=this;this.elTextarea.addEventListener("input",function(n){e.code=n.target.value,e.elCode.innerHTML=S(n.target.value),e.highlight(),setTimeout(function(){e.runUpdate(),e.setLineNumber()},1)}),this.elTextarea.addEventListener("keydown",function(n){e.handleTabs(n),e.handleSelfClosingCharacters(n),e.handleNewLineIndentation(n),e.elPre.style.transform="translate3d(".concat(n.target.offsetLeft-n.target.scrollLeft,"px, ").concat(n.target.offsetTop-n.target.scrollTop,"px, 0)")}),this.elTextarea.addEventListener("scroll",function(n){e.elPre.style.transform="translate3d(".concat(n.target.offsetLeft-n.target.scrollLeft,"px, ").concat(n.target.offsetTop-n.target.scrollTop,"px, 0)"),e.elLineNumbers&&(e.elLineNumbers.style.transform="translate3d(0, ".concat(n.target.offsetTop-n.target.scrollTop,"px, 0)"))})}},{key:"handleTabs",value:function(e){if(this.opts.handleTabs){if(9!==e.keyCode)return;e.preventDefault();var n=this.elTextarea,t=n.selectionDirection,i=n.selectionStart,o=n.selectionEnd,a=n.value,r=a.substr(0,i),s=a.substring(i,o),l=a.substring(o),c=" ".repeat(this.opts.tabSize);if(i!==o&&s.length>=c.length){var d=i-r.split("\n").pop().length,u=c.length,f=c.length;if(e.shiftKey)a.substr(d,c.length)===c?(u=-u,d>i?(s=s.substring(0,d)+s.substring(d+c.length),f=0):d===i?(u=0,f=0,s=s.substring(c.length)):(f=-f,r=r.substring(0,d)+r.substring(d+c.length))):(u=0,f=0),s=s.replace(new RegExp("\n".concat(c.split("").join("\\")),"g"),"\n");else r=r.substr(0,d)+c+r.substring(d,i),s=s.replace(/\n/g,"\n".concat(c));n.value=r+s+l,n.selectionStart=i+u,n.selectionEnd=i+s.length+f,n.selectionDirection=t}else n.value=r+c+l,n.selectionStart=i+c.length,n.selectionEnd=i+c.length;var p=n.value;this.updateCode(p),this.elTextarea.selectionEnd=o+this.opts.tabSize}}},{key:"handleSelfClosingCharacters",value:function(e){if(this.opts.handleSelfClosingCharacters){var n=e.key;if(["(","[","{","<","'",'"'].includes(n)||[")","]","}",">","'",'"'].includes(n))switch(n){case"(":case")":this.closeCharacter(n);break;case"[":case"]":this.closeCharacter(n);break;case"{":case"}":this.closeCharacter(n);break;case"<":case">":case"'":case'"':this.closeCharacter(n)}}}},{key:"setLineNumber",value:function(){this.lineNumber=this.code.split("\n").length,this.opts.lineNumbers&&this.updateLineNumbersCount()}},{key:"handleNewLineIndentation",value:function(e){if(this.opts.handleNewLineIndentation&&13===e.keyCode){e.preventDefault();var n=this.elTextarea,t=n.selectionStart,i=n.selectionEnd,o=n.value,a=o.substr(0,t),r=o.substring(i),s=o.lastIndexOf("\n",t-1),l=s+o.slice(s+1).search(/[^ ]|$/),c=l>s?l-s:0,d="".concat(a,"\n").concat(" ".repeat(c)).concat(r);n.value=d,n.selectionStart=t+c+1,n.selectionEnd=t+c+1,this.updateCode(n.value),n.blur(),n.focus()}}},{key:"insertTab",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,keyCode:9,shiftKey:e});this.elTextarea.dispatchEvent(n)}},{key:"insertCharacter",value:function(e){var n=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:e});this.elTextarea.dispatchEvent(n);var t=this.elTextarea,i=t.selectionStart,o=t.selectionEnd,a="".concat(this.code.substring(0,i)).concat(e).concat(this.code.substring(o));this.updateCode(a),this.elTextarea.selectionEnd=i+e.length}},{key:"closeCharacter",value:function(e){var n=this.elTextarea,t=n.selectionStart,i=n.selectionEnd;if(this.skipCloseChar(e)){var o=this.code.substr(i,1)===e,a=o?i+1:i,r=!o&&["'",'"'].includes(e)?e:"",s="".concat(this.code.substring(0,t)).concat(r).concat(this.code.substring(a));this.updateCode(s),this.elTextarea.selectionEnd=++this.elTextarea.selectionStart}else{var l=e;switch(e){case"(":l=String.fromCharCode(e.charCodeAt()+1);break;case"<":case"{":case"[":l=String.fromCharCode(e.charCodeAt()+2)}var c=this.code.substring(t,i),d="".concat(this.code.substring(0,t)).concat(c).concat(l).concat(this.code.substring(i));this.updateCode(d)}this.elTextarea.selectionEnd=t}},{key:"skipCloseChar",value:function(e){var n=this.elTextarea,t=n.selectionStart,i=n.selectionEnd,o=Math.abs(i-t)>0;return[")","}","]",">"].includes(e)||["'",'"'].includes(e)&&!o}},{key:"updateCode",value:function(e){this.code=e,this.elTextarea.value=e,this.elCode.innerHTML=S(e),this.highlight(),this.setLineNumber(),setTimeout(this.runUpdate.bind(this),1)}},{key:"updateLanguage",value:function(e){var n=this.opts.language;this.elCode.classList.remove("language-".concat(n)),this.elCode.classList.add("language-".concat(e)),this.opts.language=e,this.highlight()}},{key:"addLanguage",value:function(e,n){Prism.languages[e]=n}},{key:"populateDefault",value:function(){this.updateCode(this.code)}},{key:"highlight",value:function(){Prism.highlightElement(this.elCode,!1)}},{key:"onUpdate",value:function(e){if(e&&"[object Function]"!=={}.toString.call(e))throw Error("CodeFlask expects callback of type Function");this.updateCallBack=e}},{key:"getCode",value:function(){return this.code}},{key:"runUpdate",value:function(){this.updateCallBack&&this.updateCallBack(this.code)}},{key:"enableReadonlyMode",value:function(){this.elTextarea.setAttribute("readonly",!0)}},{key:"disableReadonlyMode",value:function(){this.elTextarea.removeAttribute("readonly")}}]),e}();t.d(n,"a",function(){return N});var L=["'",'"',",",":","=","[","]","(",")","{","}"],N=function(e){function n(e){var t;return r()(this,n),(t=d()(this,f()(n).call(this,e))).id="rcf-".concat(Math.ceil(999999999*Math.random())),t.dom=null,t.editor=null,t}return h()(n,e),l()(n,[{key:"componentDidMount",value:function(){var e=this.props,n=e.value,t=e.onChange,i=(e.width,e.height,e.readOnly),a=o()(e,["value","onChange","width","height","readOnly"]);a.readonly=i,this.editor=function(e){var n=e.id,t=e.code,i=e.onChange,o=e.options,a=new T("#".concat(n),o);return a.updateCode(t),a.onUpdate(function(e){i(e)}),a.editorRoot.addEventListener("focusin",function(){a.onUpdate(i)}),a.editorRoot.addEventListener("focusout",function(){a.onUpdate(function(){})}),a}({id:this.dom.id,code:n,onChange:t,options:a}),Prism.highlightAll()}},{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&this.editor.updateCode(this.props.value)}},{key:"handleOnClickPunctuation",value:function(e,n){e.preventDefault(),this.editor.insertCharacter(n),this.props.handleOnClickPunctuation&&this.props.handleOnClickPunctuation(e,n)}},{key:"render",value:function(){var e=this,n=this.props,t=n.width,i=n.height,o=n.isShowAuxiliaryInput;return m.a.createElement("div",null,m.a.createElement("div",{id:this.id,ref:function(n){e.dom=n},style:{width:t,height:i,background:"#f4f7fb",border:"0",position:"relative"}}),o&&m.a.createElement("div",null,m.a.createElement("div",{style:{position:"relative",height:"40px"}}),m.a.createElement("div",{className:"punctuations"},L.map(function(n){return m.a.createElement("div",{key:n,className:"punctuation",onMouseDown:function(t){return e.handleOnClickPunctuation(t,n)}},n)}))))}}]),n}(m.a.Component);N.defaultProps={value:"",language:"python",onChange:function(){},width:"100%",height:"100%",rtl:!1,tabSize:2,enableAutocorrect:!1,lineNumbers:!1,defaultTheme:!1,areaId:null,ariaLabelledby:null,readOnly:!1,handleTabs:!0,handleSelfClosingCharacters:!0,handleNewLineIndentation:!0,isShowAuxiliaryInput:!1},N.propTypes={value:b.a.string,language:b.a.string,onChange:b.a.func,width:b.a.string,height:b.a.string,rtl:b.a.bool,tabSize:b.a.number,enableAutocorrect:b.a.bool,lineNumbers:b.a.bool,defaultTheme:b.a.bool,areaId:b.a.string,ariaLabelledby:b.a.string,readOnly:b.a.bool,handleTabs:b.a.bool,handleSelfClosingCharacters:b.a.bool,handleNewLineIndentation:b.a.bool,isShowAuxiliaryInput:b.a.bool}},,,,,,,function(e,n,t){"use strict";t.r(n);var i=t(0),o=t.n(i),a=t(1),r=t.n(a),s=t(18),l=t(8),c=function(e){return o.a.createElement(l.a,{Element:s.a,lineNumbers:!0,language:"python",width:"100%",tabSize:2,onChange:e.onChange,files:e.files,readOnly:e.readOnly,isMultiple:e.isMultiple,height:e.height,onCodeChange:e.onCodeChange,isShowAuxiliaryInput:!0,handleOnClickPunctuation:e.handleOnClickPunctuation})};c.defaultProps={readOnly:!1,isMultiple:!0,height:"500px",onCodeChange:function(){},handleOnClickPunctuation:function(){}},c.propTypes={onChange:r.a.func.isRequired,files:r.a.array.isRequired,readOnly:r.a.bool,isMultiple:r.a.bool,height:r.a.string,onCodeChange:r.a.func,handleOnClickPunctuation:r.a.func},n.default=c}]);